<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">

  <meta charset="utf-8">
  <style>

  </style>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <title>Bootstrap Example</title>

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">Footmap
        <img src="https://cdn-icons-png.flaticon.com/512/3097/3097028.png" alt="Logo" width="40" height="35" class="d-inline-block align-text-top">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-between" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="/game/search" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              게임매칭
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="/game/search">게임찾기</a></li>
              <li><a class="dropdown-item" href="/game/registerForm">게임등록</a></li>
              <li><a class="dropdown-item" href="/game/list">내게임내역</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/Team/t_search">팀</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/board/list">커뮤니티</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="/Page/s_intro" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              풋맵소개
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="/Page/Notice">공지사항</a></li>
              <li><a class="dropdown-item" href="/Page/Event">이벤트</a></li>
              <li><a class="dropdown-item" href="/Page/FAQ">FAQ</a></li>
              <li><a class="dropdown-item" href="/Page/FLIST">구장관리</a></li>
              <li><a class="dropdown-item" href="/Page/s_intro">사이트소개</a></li>
              <li><a class="dropdown-item" href="/Page/s_rule">사이트이용수칙</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown" a sec:authorize="hasRole('ROLE_ADMIN')">
            <a class="nav-link dropdown-toggle" href="/admin/list" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              관리자모드
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="/admin/gameList">경기기록</a></li>
            </ul>
          </li>
          </ul>


          <ul class="nav justify-content-end">
            <li class="nav-item" id="ss">
              <i class="bi bi-envelope-exclamation-fill" a sec:authorize="isAuthenticated()"  id="message" onclick="jj()" style="font-size: 2rem;"></i>
            </li>

            <li class="nav-item">
              <a class="nav-link disabled" a sec:authorize="isAuthenticated()">반갑습니다. <span a sec:authentication="name" id="u_id"></span>님!</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" a sec:authorize="isAnonymous()" th:href="@{/login}">로그인</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" a sec:authorize="isAuthenticated()" th:href="@{/logout}">로그아웃</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" a sec:authorize="isAnonymous()" th:href="@{/signUp}">회원가입</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" a sec:authorize="hasRole('ROLE_USER')" th:href="@{/Mypage}">내 정보</a>
            </li>
          </ul>
      </div>
    </div>
  </nav>





  <div class="toast-container position-fixed bottom-0 end-0 p-3" >
    <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header toast align-items-center text-bg-dark border-0">
        <img src="https://cdn-icons-png.flaticon.com/512/3097/3097028.png" width="10"height="10" class="rounded me-2" alt="f_map">
        <strong class="me-auto">Footmap</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body" >
        <a href='javascript:void(0);' id="delete" onclick="toastclick()">읽지않은 알람이 있습니다.</a>
      </div>
    </div>
  </div>


  <div id="aa">


    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <p class="fs-1">Message</p>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>
              <a class="btn btn-outline-secondary" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample" id="JJokjiList">
                Message List
              </a>
              <button class="btn btn-outline-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample2" aria-expanded="false" aria-controls="collapseExample"  id="gamesinchung">
                Game List
              </button>
            </p>
            <div class="collapse" id="collapseExample">
              <div class="container text-center">
                <div class="row">
                  <div class="col">
                    <div class="table-responsive">
                      <table class="table">
                        <p class="fs-2">Message List</p>
                        <thead class="table-dark">
                        <tr>
                          <th scope="col">게임 신청 팀</th>
                          <th scope="col">보내는 사람</th>
                          <th scope="col">게임신청 받은팀</th>
                          <th scope="col">내용</th>
                          <th scope="col">보낸시각</th>
                          <th scope="col">읽음 여부</th>
                          <th scope="col">수락</th>
                          <th scope="col">거절</th>
                        </tr>
                        </thead>
                        <tbody id="teams" class="table-secondary">
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="collapse" id="collapseExample2">
              <div class="container text-center">
                <div class="row">
                  <div class="col">
                    <div class="table-responsive">
                      <table class="table">
                        <p class="fs-2">Game List</p>
                        <thead class="table-dark">
                        <tr>
                          <th scope="col">신청 팀</th>
                          <th scope="col">보내는 사람</th>
                          <th scope="col">보내는 내용</th>
                          <th scope="col">보낸 시각</th>
                          <th scope="col">읽음 여뷰</th>
                          <th scope="col">수락</th>
                          <th scope="col">거절</th>
                        </tr>
                        </thead>
                        <tbody id="teams2" class="table-secondary">
                        <tr th:each="jjok,index : ${JJokji}">
                          <td th:text="${teamname[index.index]}"></td>
                          <td th:text="${jjoku_nick[index.index]}" id="nick2"></td>
                          <td th:text="${jjok.j_cont}"></td>
                          <td th:text="${jjok.j_sendtime}"></td>
                          <td th:if="${jjok.j_check == 'N'}">읽지않음</td>
                          <td th:if="${jjok.j_check == 'Y'}">읽음</td>
                          <td><input type="button" class="btn btn-dark" value="수락" id="accessbutton2" th:ucode="${jjok.j_sendname}"th:code="${jjok.j_code}" th:tname="${teamname[index.index]}" th:onclick="nick(this.getAttribute('ucode'),this.getAttribute('code'),this.getAttribute('tname'))" th:disabled="${jjok.j_check == 'Y'}"/></td>
                          <td><input type="button" class="btn btn-dark" value="거절" id="deniebutton2" th:ucode="${jjok.j_sendname}"th:code="${jjok.j_code}" th:tname="${teamname[index.index]}" th:onclick="no(this.getAttribute('ucode'),this.getAttribute('code'),this.getAttribute('tname'))" th:disabled="${jjok.j_check == 'Y'}"/></td>
                        </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="nomodal2" tabindex="-2" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel3">팀신청거절</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          팀신청 거절이 확인되었습니다.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


  <div class="modal fade" id="nomodal" tabindex="-2" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">팀신청거절</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          팀신청 거절이 확인되었습니다.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="yesmodal" tabindex="-2" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel2">팀신청승락</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          팀신청 승인이 확인되었습니다.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="gameyesmodal" tabindex="-2" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabe3">게임신청승낙</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          게임신청 승인이 확인되었습니다.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="gamenomodal" tabindex="-2" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabe4">게임신청거절</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          게임신청 거절이 확인되었습니다.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


  <script>

    window.onload = function(){
      $.ajax({
        type:"get",
        url:"/ajax/data",
        success:function (data){
          let dada = JSON.parse(data);
          let u_code = dada.users.u_code;
          $.ajax({
            type: "get",
            url: "/JJokji/getJJok",
            data:{u_code:u_code},
            success:function (data){
              console.log(data);
              let JJok = JSON.parse(data);
              let isCheckY = false;
              for (let i = 0; i < JJok.JJokjiList.length; i++) {
                let message = JJok.JJokjiList[i];
                if (message.j_check === "N") {
                  isCheckY = true;
                  break;

                }
              }
              if (!isCheckY) {//쪽지가 없으면
                var html="";
                html +="<i class=\"bi bi-envelope\" a sec:authorize=\"isAuthenticated()\"  id=\"message\" onclick=\"jj()\" style=\"font-size: 2rem;\"></i>\n"
                // <i className="bi bi-envelope" a sec:authorize="isAuthenticated()" id="message" onClick="jj()"
                //    style="font-size: 2rem; color: cornflowerblue;"></i>
                $('#ss').html(html);

                // var JJokJJok ="";
                // JJokJJok +=" <div class=\"modal fade\" id=\"staticBackdrop\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n" +
                //         "      <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\n" +
                //         "        <div class=\"modal-content\">\n" +
                //         "          <div class=\"modal-header\">\n" +
                //         "            <a class=\"modal-title fs-5\" id=\"JJokjiList\">팀 가입신청</a>\n" +
                //         "            <p>&nbsp;&nbsp;&nbsp;&nbsp;</p>\n" +
                //         "            <a class=\"modal-title fs-5\"  id=\"gamesinchung\">게임신청</a>\n" +
                //         "            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n" +
                //         "          </div>\n" +
                //         "          <div class=\"modal-body\">\n" +
                //         "           <h2>sfsfsf</h2>\n" +
                //         "\n" +
                //         "          </div>\n" +
                //         "          <div class=\"modal-footer\">\n" +
                //         "            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n" +
                //         "          </div>\n" +
                //         "        </div>\n" +
                //         "      </div>\n" +
                //         "    </div>";
                // $('#aa').html(JJokJJok);


                $('#message').on("click",function (){
                  $('#staticBackdrop').modal('show');
                  $('#staticBackdrop').on('hidden.bs.modal', function (e) {
                    location.reload();
                  })

                })
              }else if(isCheckY && JJok.JJokjiListSize > 0){
                $('.toast').toast('show');
                $('#message').on("click",function (){
                   $('#staticBackdrop').modal('show');
                  $('#staticBackdrop').on('hidden.bs.modal', function (e) {
                    location.reload();
                  })

                })
              }
            }

          })
        },
        error:function (e){
          console.log(e);
        }
      })

    }
$('#JJokjiList').on("click", function () {
    $.ajax({
      type: "get",
      url: "/ajax/data",
      success: function (date) {
        var dada = JSON.parse(date);
        let u_code = dada.users.u_code;
        $.ajax({
          type: "get",
          url: "/ajax/newdata",
          data: {u_code: u_code},
          success: function (data) {
            let dada = JSON.parse(data);
            var html = "";
            html +="   <div class=\"container text-center\">\n" +
                    "        <div class=\"row\">\n" +
                    "            <div class=\"col\">\n" +
                    "                <div class=\"table-responsive\">\n" +
                    "                    <table class=\"table\">\n" +
                    "<p class=\"fs-2\">Message List</p>" +
                    "                        <thead class=\"table-dark\">\n" +
                    "                        <tr>\n" +
                    "                            <th scope=\"col\">신청 팀</th>\n" +
                    "                            <th scope=\"col\">보내는 사람</th>\n" +
                    "                            <th scope=\"col\">보내는 내용</th>\n" +
                    "                            <th scope=\"col\">보낸 시각</th>\n" +
                    "                            <th scope=\"col\">읽음 여뷰</th>\n" +
                    "                            <th scope=\"col\">수락</th>\n" +
                    "                            <th scope=\"col\">거절</th>\n" +
                    "                        </tr>\n" +
                    "                        </thead>\n" +
                    "                        <tbody id=\"teams\" class=\"table-secondary\">";
            for (var i = 0; i < dada.JJokji.length; i++) {
              html += "<tr>";
              html += "<td>" + dada.teamname[i] + "</td>";
              html += "<td>" + dada.jjoku_nick[i] + "</td>";
              html += "<td>" + dada.JJokji[i].j_cont + "</td>";
              html += "<td>" + dada.JJokji[i].j_sendtime + "</td>";
              if (dada.JJokji[i].j_check == 'N') {
                html += "<td>읽지않음</td>";
              } else if (dada.JJokji[i].j_check == 'Y') {
                html += "<td>읽음</td>";
              }
              html += "<td><input type='button'   class=\"btn btn-dark\" value='수락' id='accessbutton' ucode='" + dada.JJokji[i].j_sendname + "'  code='" + dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] + "' onclick='nick(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n" + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
              html += "<td><input type='button'    class=\"btn btn-dark\" value='거절' id='deniebutton' ucode='" + dada.JJokji[i].j_sendname + "' code='" + dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] + "' onclick='no(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n " + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
              html += "</tr>";
            }
            html +="    </tbody>\n" +
                    "                    </table>\n" +
                    "                </div>\n" +
                    "            </div>\n" +
                    "        </div>";
            // html += " <table>\n" +
            //         "                               <tr>\n" +
            //         "                               <th>신청 팀 &nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
            //         "                    <th>보내는사람&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
            //         "                    <th>내용&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
            //         "                    <th>보낸 시각&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
            //         "                    <th>읽음 여부&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
            //         "                    <th>수락/거절</th>\n" +
            //         "                  </tr>";
            // for (var i = 0; i < dada.JJokji.length; i++) {
            //   html += "<tr>";
            //   html += "<td>" + dada.teamname[i] + "</td>";
            //   html += "<td>" + dada.jjoku_nick[i] + "</td>";
            //   html += "<td>" + dada.JJokji[i].j_cont + "</td>";
            //   html += "<td>" + dada.JJokji[i].j_sendtime + "</td>";
            //   if (dada.JJokji[i].j_check == 'N') {
            //     html += "<td>읽지않음</td>";
            //   } else if (dada.JJokji[i].j_check == 'Y') {
            //     html += "<td>읽음</td>";
            //   }
            //   html += "<td><input type='button' value='수락' id='accessbutton' ucode='" + dada.JJokji[i].j_sendname + "'  code='" + dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] + "' onclick='nick(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n" + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
            //   html += "<td><input type='button' value='거절' id='deniebutton' ucode='" + dada.JJokji[i].j_sendname + "' code='" + dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] + "' onclick='no(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n " + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
            //   html += "</tr>";
            //
            //
            // }
            // html += "</table>";

            $("#collapseExample").html(html);
            $("#staticBackdrop").modal("show");
          }
        })
      }
    })

  })



    function gamenick(t_name,gcode,jcode){
      $.ajax({
        type:"post",
        url:"/ajax/Accept",
        data:{t_name:t_name,gcode:gcode,jcode:jcode},
        success:function (data){
          $('#gameyesmodal').modal('show');
          $('#gameyesmodal').on('hidden.bs.modal', function () {
            $.ajax({
              type: "get",
              url: "/ajax/data",
              success: function (data) {
                let dada = JSON.parse(data);
                let u_code = dada.users.u_code;
                $.ajax({
                  type: "get",
                  url: "/JJokji/getgameJJokji",
                  data: {u_code: u_code},
                  success: function (data) {
                    let dad = JSON.parse(data);
                    console.log(dad);
                    var html = "";
                    html +="    <div class=\"container text-center\">\n" +
                            "            <div class=\"row\">\n" +
                            "                <div class=\"col\">\n" +
                            "                    <div class=\"table-responsive\">\n" +
                            "                        <table class=\"table\">\n" +
                            "<p class=\"fs-2\">Game List</p>" +
                            "                            <thead class=\"table-dark\">\n" +
                            "                            <tr>\n" +
                            "                                <th scope=\"col\">게임 신청 팀</th>\n" +
                            "                                <th scope=\"col\">보내는 사람</th>\n" +
                            "                                <th scope=\"col\">게임신청 받은팀</th>\n" +
                            "                                <th scope=\"col\">내용</th>\n" +
                            "                                <th scope=\"col\">보낸 시각</th>\n" +
                            "                                <th scope=\"col\">읽음여부</th>\n" +
                            "                                <th scope=\"col\">수락</th>\n" +
                            "                                <th scope=\"col\">거절</th>\n" +
                            "\n" +
                            "                            </tr>\n" +
                            "                            </thead>\n" +
                            "                            <tbody id=\"teams\" class=\"table-secondary\">";
                    for (var i = 0; i < dad.gameJJokji.length; i++) {
                      html += "<tr>";
                      html += "<td>" + dad.sendteamname[i] + "</td>";
                      html += "<td>" + dad.sendnick[i] + "</td>";
                      html += "<td>" + dad.backteamname[i] + "</td>";
                      html += "<td>" + dad.gameJJokji[i].j_cont + "</td>";
                      html += "<td>" + dad.gameJJokji[i].j_sendtime + "</td>";
                      if (dad.gameJJokji[i].j_check == 'N') {
                        html += "<td>읽지않음</td>";
                      } else if (dad.gameJJokji[i].j_check == 'Y') {
                        html += "<td>읽음</td>";
                      }
                      html += "<td><input type='button'  class=\"btn btn-dark\" value='수락' id='gameaccessbutton' search='" + dad.sendteamname[i] + "'  gcode='" + dad.gameJJokji[i].g_code + "'  code='" + dad.gameJJokji[i].j_code + "' onclick='gamenick(this.getAttribute(\"search\"),this.getAttribute(\"gcode\"),this.getAttribute(\"code\"))'\n" + (dad.gameJJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                      html += "<td><input type='button'  class=\"btn btn-dark\" value='거절' id='gamedeniebutton' search='" + dad.sendteamname[i] + "' gcode='" + dad.gameJJokji[i].g_code + "'  code='" + dad.gameJJokji[i].j_code + "' onclick='gameno(this.getAttribute(\"search\"),this.getAttribute(\"gcode\"),this.getAttribute(\"code\"))'\n " + (dad.gameJJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                      html += "</tr>";
                    }
                    html +="</tbody>\n" +
                            "                        </table>\n" +
                            "                    </div>\n" +
                            "                </div>\n" +
                            "            </div>";
                    // html += "<table>\n" +
                    //         "                    <tr>\n" +
                    //         "                      <th>게임신청 팀 &nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                      <th>보내는 사람</th>\n" +
                    //         "                      <th>게임신청 받은 팀</th>" +
                    //         "                      <th>내용&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                      <th>보낸시각&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                      <th>읽음 여부&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                      <th>수락/거절</th>\n" +
                    //         "                    </tr>";
                    // for (var i = 0; i < dad.gameJJokji.length; i++) {
                    //   html += "<tr>";
                    //   html += "<td>" + dad.sendteamname[i] + "</td>";
                    //   html += "<td>" + dad.sendnick[i] + "</td>";
                    //   html += "<td>" + dad.backteamname[i] + "</td>";
                    //   html += "<td>" + dad.gameJJokji[i].j_cont + "</td>";
                    //   html += "<td>" + dad.gameJJokji[i].j_sendtime + "</td>";
                    //   if (dad.gameJJokji[i].j_check == 'N') {
                    //     html += "<td>읽지않음</td>";
                    //   } else if (dad.gameJJokji[i].j_check == 'Y') {
                    //     html += "<td>읽음</td>";
                    //   }
                    //   html += "<td><input type='button' value='수락' id='gameaccessbutton' search='" + dad.sendteamname[i] + "'  gcode='" + dad.gameJJokji[i].g_code + "'  code='" + dad.gameJJokji[i].j_code + "' onclick='gamenick(this.getAttribute(\"search\"),this.getAttribute(\"gcode\"),this.getAttribute(\"code\"))'\n" + (dad.gameJJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                    //   html += "<td><input type='button' value='거절' id='gamedeniebutton' search='" + dad.sendteamname[i] + "' gcode='" + dad.gameJJokji[i].g_code + "'  code='" + dad.gameJJokji[i].j_code + "' onclick='gameno(this.getAttribute(\"search\"),this.getAttribute(\"gcode\"),this.getAttribute(\"code\"))'\n " + (dad.gameJJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                    //   html += "</tr>";
                    // }
                    // html += "</table>";

                    $("#collapseExample2").html(html);
                    $("#staticBackdrop").modal("show");
                  }
                })
              }
            })
          })
        }
      })
    }
    function gameno(t_name,gcode,jcode){
      $.ajax({
        type:"post",
        url:"/ajax/Denied",
        data:{t_name:t_name,gcode:gcode,jcode:jcode},
        success:function (data){
          $('#gamenomodal').modal('show');
          $('#gamenomodal').on('hidden.bs.modal', function () {
            $.ajax({
              type: "get",
              url: "/ajax/data",
              success: function (data) {
                let dada = JSON.parse(data);
                let u_code = dada.users.u_code;
                $.ajax({
                  type: "get",
                  url: "/JJokji/getgameJJokji",
                  data: {u_code: u_code},
                  success: function (data) {
                    let dad = JSON.parse(data);
                    console.log(dad);
                    var html = "";
                    html +="   <div class=\"container text-center\">\n" +
                            "            <div class=\"row\">\n" +
                            "                <div class=\"col\">\n" +
                            "                    <div class=\"table-responsive\">\n" +
                            "                        <table class=\"table\">\n" +
                            "<p class=\"fs-2\">Game List</p>" +

                            "                            <thead class=\"table-dark\">\n" +
                            "                            <tr>\n" +
                            "                                <th scope=\"col\">게임 신청 팀</th>\n" +
                            "                                <th scope=\"col\">보내는 사람</th>\n" +
                            "                                <th scope=\"col\">게임신청 받은팀</th>\n" +
                            "                                <th scope=\"col\">내용</th>\n" +
                            "                                <th scope=\"col\">보낸 시각</th>\n" +
                            "                                <th scope=\"col\">읽음여부</th>\n" +
                            "                                <th scope=\"col\">수락</th>\n" +
                            "                                <th scope=\"col\">거절</th>\n" +
                            "\n" +
                            "                            </tr>\n" +
                            "                            </thead>\n" +
                            "                            <tbody id=\"teams\" class=\"table-secondary\">";

                    for (var i = 0; i < dad.gameJJokji.length; i++) {
                      html += "<tr>";
                      html += "<td>" + dad.sendteamname[i] + "</td>";
                      html += "<td>" + dad.sendnick[i] + "</td>";
                      html += "<td>" + dad.backteamname[i] + "</td>";
                      html += "<td>" + dad.gameJJokji[i].j_cont + "</td>";
                      html += "<td>" + dad.gameJJokji[i].j_sendtime + "</td>";
                      if (dad.gameJJokji[i].j_check == 'N') {
                        html += "<td>읽지않음</td>";
                      } else if (dad.gameJJokji[i].j_check == 'Y') {
                        html += "<td>읽음</td>";
                      }
                      html += "<td><input type='button'   class=\"btn btn-dark\" value='수락' id='gameaccessbutton' search='" + dad.sendteamname[i] + "'  gcode='" + dad.gameJJokji[i].g_code + "'  code='" + dad.gameJJokji[i].j_code + "' onclick='gamenick(this.getAttribute(\"search\"),this.getAttribute(\"gcode\"),this.getAttribute(\"code\"))'\n" + (dad.gameJJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                      html += "<td><input type='button'  class=\"btn btn-dark\"value='거절' id='gamedeniebutton' search='" + dad.sendteamname[i] + "' gcode='" + dad.gameJJokji[i].g_code + "'  code='" + dad.gameJJokji[i].j_code + "' onclick='gameno(this.getAttribute(\"search\"),this.getAttribute(\"gcode\"),this.getAttribute(\"code\"))'\n " + (dad.gameJJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                      html += "</tr>";
                    }
                    html +="</tbody>\n" +
                            "                        </table>\n" +
                            "                    </div>\n" +
                            "                </div>\n" +
                            "            </div>";
                    // html += "<table>\n" +
                    //         "                    <tr>\n" +
                    //         "                      <th>게임신청 팀 &nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                      <th>보내는 사람</th>\n" +
                    //         "                      <th>게임신청 받은 팀</th>" +
                    //         "                      <th>내용&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                      <th>보낸시각&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                      <th>읽음 여부&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                      <th>수락/거절</th>\n" +
                    //         "                    </tr>";
                    // for (var i = 0; i < dad.gameJJokji.length; i++) {
                    //   html += "<tr>";
                    //   html += "<td>" + dad.sendteamname[i] + "</td>";
                    //   html += "<td>" + dad.sendnick[i] + "</td>";
                    //   html += "<td>" + dad.backteamname[i] + "</td>";
                    //   html += "<td>" + dad.gameJJokji[i].j_cont + "</td>";
                    //   html += "<td>" + dad.gameJJokji[i].j_sendtime + "</td>";
                    //   if (dad.gameJJokji[i].j_check == 'N') {
                    //     html += "<td>읽지않음</td>";
                    //   } else if (dad.gameJJokji[i].j_check == 'Y') {
                    //     html += "<td>읽음</td>";
                    //   }
                    //   html += "<td><input type='button' value='수락' id='gameaccessbutton' search='" + dad.sendteamname[i] + "'  gcode='" + dad.gameJJokji[i].g_code + "'  code='" + dad.gameJJokji[i].j_code + "' onclick='gamenick(this.getAttribute(\"search\"),this.getAttribute(\"gcode\"),this.getAttribute(\"code\"))'\n" + (dad.gameJJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                    //   html += "<td><input type='button' value='거절' id='gamedeniebutton' search='" + dad.sendteamname[i] + "' gcode='" + dad.gameJJokji[i].g_code + "'  code='" + dad.gameJJokji[i].j_code + "' onclick='gameno(this.getAttribute(\"search\"),this.getAttribute(\"gcode\"),this.getAttribute(\"code\"))'\n " + (dad.gameJJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                    //   html += "</tr>";
                    // }
                    // html += "</table>";

                    $("#collapseExample2").html(html);
                    $("#staticBackdrop").modal("show");
                  }
                })
              }
            })
          })
        }
      })
    }

    function no(ucode,jcode,tname){
      $.ajax({
        type:"post",
        url:"/ajax/denied",
        data:{ucode:ucode,jcode:jcode,tname:tname},
        success:function (data){
          $('#nomodal').modal('show');
          $('#nomodal').on('hidden.bs.modal', function () {
            $.ajax({
              type:"get",
              url:"/ajax/data",
              success:function (date){
                var dada = JSON.parse(date);
                let u_code = dada.users.u_code;
                $.ajax({
                  type:"get",
                  url:"/ajax/newdata",
                  data:{u_code:u_code},
                  success:function (data){
                    let dada = JSON.parse(data);
                    console.log("쪽지데이터 가져와" +dada.JJokji[2].j_code);
                    console.log("쪽지데이터닉네임" + dada.jjoku_nick[2]);
                    console.log("쪽지데이터코드" + dada.teamname[2]);
                    var html ="";
                    html +="<div class=\"container text-center\">\n" +
                            "        <div class=\"row\">\n" +
                            "            <div class=\"col\">\n" +
                            "                <div class=\"table-responsive\">\n" +
                            "                    <table class=\"table\">\n" +
                            "<p class=\"fs-2\">Message List</p>" +
                            "                        <thead class=\"table-dark\">\n" +
                            "                        <tr>\n" +
                            "                            <th scope=\"col\">신청 팀</th>\n" +
                            "                            <th scope=\"col\">보내는 사람</th>\n" +
                            "                            <th scope=\"col\">보내는 내용</th>\n" +
                            "                            <th scope=\"col\">보낸 시각</th>\n" +
                            "                            <th scope=\"col\">읽음 여뷰</th>\n" +
                            "                            <th scope=\"col\">수락</th>\n" +
                            "                            <th scope=\"col\">거절</th>\n" +
                            "                        </tr>\n" +
                            "                        </thead>\n" +
                            "                        <tbody id=\"teams\" class=\"table-secondary\">";
                    for(var i=0; i<dada.JJokji.length; i++ ){
                      html +="<tr>";
                      html +="<td>" + dada.teamname[i] + "</td>";
                      html +="<td>" + dada.jjoku_nick[i] + "</td>";
                      html +="<td>" + dada.JJokji[i].j_cont + "</td>";
                      html +="<td>" + dada.JJokji[i].j_sendtime + "</td>";
                      if(dada.JJokji[i].j_check == 'N'){
                        html +="<td>읽지않음</td>";
                      }else if(dada.JJokji[i].j_check == 'Y'){
                        html +="<td>읽음</td>";
                      }
                      html +="<td><input type='button'   class=\"btn btn-dark\" value='수락' id='accessbutton' ucode='" + dada.JJokji[i].j_sendname + "'  code='"+dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] +"' onclick='nick(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n" + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                      html +="<td><input type='button'   class=\"btn btn-dark\" value='거절' id='deniebutton' ucode='" + dada.JJokji[i].j_sendname + "' code='"+dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] +"' onclick='no(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n " + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                      html +="</tr>";
                    }
                    html +="   </tbody>\n" +
                            "                    </table>\n" +
                            "                </div>\n" +
                            "            </div>\n" +
                            "        </div>";
                    // html+=" <table>\n" +
                    //         "                               <tr>\n" +
                    //         "                               <th>신청 팀 &nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                    <th>보내는사람&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                    <th>내용&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                    <th>보낸 시각&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                    <th>읽음 여부&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                    <th>수락/거절</th>\n" +
                    //         "                  </tr>";
                    // for(var i=0; i<dada.JJokji.length; i++ ){
                    //   html +="<tr>";
                    //   html +="<td>" + dada.teamname[i] + "</td>";
                    //   html +="<td>" + dada.jjoku_nick[i] + "</td>";
                    //   html +="<td>" + dada.JJokji[i].j_cont + "</td>";
                    //   html +="<td>" + dada.JJokji[i].j_sendtime + "</td>";
                    //   if(dada.JJokji[i].j_check == 'N'){
                    //     html +="<td>읽지않음</td>";
                    //   }else if(dada.JJokji[i].j_check == 'Y'){
                    //     html +="<td>읽음</td>";
                    //   }
                    //   html +="<td><input type='button' value='수락' id='accessbutton' ucode='" + dada.JJokji[i].j_sendname + "'  code='"+dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] +"' onclick='nick(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n" + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                    //   html +="<td><input type='button' value='거절' id='deniebutton' ucode='" + dada.JJokji[i].j_sendname + "' code='"+dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] +"' onclick='no(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n " + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                    //   html +="</tr>";
                    //
                    //
                    // }
                    // html +="</table>";
                    $("#collapseExample").html(html);
                    $("#staticBackdrop").modal("show");
                  }
                })
              }
            })
          })
        }

      })
    }




    function nick(ucode,jcode,tname){
      $.ajax({
        type:"post",
        url:"/ajax/access",
        data:{ucode:ucode,jcode:jcode,tname:tname},
        success:function (data){
          $('#yesmodal').modal('show');
          $('#yesmodal').on('hidden.bs.modal', function () {
            $.ajax({
              type:"get",
              url:"/ajax/data",
              success:function (date){
                var dada = JSON.parse(date);
                let u_code = dada.users.u_code;
                $.ajax({
                  type:"get",
                  url:"/ajax/newdata",
                  data:{u_code:u_code},
                  success:function (data){
                    let dada = JSON.parse(data);
                    console.log("쪽지데이터 가져와" +dada.JJokji[2].j_code);
                    console.log("쪽지데이터닉네임" + dada.jjoku_nick[2]);
                    console.log("쪽지데이터코드" + dada.teamname[2]);
                    var html ="";
                    html +=" <div class=\"container text-center\">\n" +
                            "        <div class=\"row\">\n" +
                            "            <div class=\"col\">\n" +
                            "                <div class=\"table-responsive\">\n" +
                            "                    <table class=\"table\">\n" +
                            "<p class=\"fs-2\">Message List</p>" +
                            "                        <thead class=\"table-dark\">\n" +
                            "                        <tr>\n" +
                            "                            <th scope=\"col\">신청 팀</th>\n" +
                            "                            <th scope=\"col\">보내는 사람</th>\n" +
                            "                            <th scope=\"col\">보내는 내용</th>\n" +
                            "                            <th scope=\"col\">보낸 시각</th>\n" +
                            "                            <th scope=\"col\">읽음 여뷰</th>\n" +
                            "                            <th scope=\"col\">수락</th>\n" +
                            "                            <th scope=\"col\">거절</th>\n" +
                            "                        </tr>\n" +
                            "                        </thead>\n" +
                            "                        <tbody id=\"teams\" class=\"table-secondary\">";

                    for(var i=0; i<dada.JJokji.length; i++ ){
                      html +="<tr>";
                      html +="<td>" + dada.teamname[i] + "</td>";
                      html +="<td>" + dada.jjoku_nick[i] + "</td>";
                      html +="<td>" + dada.JJokji[i].j_cont + "</td>";
                      html +="<td>" + dada.JJokji[i].j_sendtime + "</td>";
                      if(dada.JJokji[i].j_check == 'N'){
                        html +="<td>읽지않음</td>";
                      }else if(dada.JJokji[i].j_check == 'Y'){
                        html +="<td>읽음</td>";
                      }
                      html +="<td><input type='button'   class=\"btn btn-dark\" value='수락' id='accessbutton' ucode='" + dada.JJokji[i].j_sendname + "'  code='"+dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] +"' onclick='nick(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n" + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                      html +="<td><input type='button'   class=\"btn btn-dark\"value='거절' id='deniebutton' ucode='" + dada.JJokji[i].j_sendname + "' code='"+dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] +"' onclick='no(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n " + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                      html +="</tr>";
                    }
                    html +="</tbody>\n" +
                            "                    </table>\n" +
                            "                </div>\n" +
                            "            </div>\n" +
                            "        </div>\n";
                    // html+=" <table>\n" +
                    //         "                               <tr>\n" +
                    //         "                               <th>신청 팀 &nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                    <th>보내는사람&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                    <th>내용&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                    <th>보낸 시각&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                    <th>읽음 여부&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n" +
                    //         "                    <th>수락/거절</th>\n" +
                    //         "                  </tr>";
                    // for(var i=0; i<dada.JJokji.length; i++ ){
                    //   html +="<tr>";
                    //   html +="<td>" + dada.teamname[i] + "</td>";
                    //   html +="<td>" + dada.jjoku_nick[i] + "</td>";
                    //   html +="<td>" + dada.JJokji[i].j_cont + "</td>";
                    //   html +="<td>" + dada.JJokji[i].j_sendtime + "</td>";
                    //   if(dada.JJokji[i].j_check == 'N'){
                    //     html +="<td>읽지않음</td>";
                    //   }else if(dada.JJokji[i].j_check == 'Y'){
                    //     html +="<td>읽음</td>";
                    //   }
                    //   html +="<td><input type='button' value='수락' id='accessbutton' ucode='" + dada.JJokji[i].j_sendname + "'  code='"+dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] +"' onclick='nick(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n" + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                    //   html +="<td><input type='button' value='거절' id='deniebutton' ucode='" + dada.JJokji[i].j_sendname + "' code='"+dada.JJokji[i].j_code + "' tname='" + dada.teamname[i] +"' onclick='no(this.getAttribute(\"ucode\"),this.getAttribute(\"code\"),this.getAttribute(\"tname\"))'\n " + (dada.JJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                    //   html +="</tr>";
                    // }
                    //
                    // html +="</table>";
                    $("#collapseExample").html(html);
                    $("#staticBackdrop").modal("show");
                  }
                })
              }
            })
          })
        }

      })
    }
  </script>
  <script>

    $('#gamesinchung').on("click",function (){
      $.ajax({
        type:"get",
        url:"/ajax/data",
        success:function (data){
          let dada = JSON.parse(data);
          let u_code = dada.users.u_code;
          $.ajax({
            type:"get",
            url:"/JJokji/getgameJJokji",
            data:{u_code:u_code},
            success:function (data){
              let dad = JSON.parse(data);
              console.log(dad);
              var html = "";
              html +="<div class=\"container text-center\">\n" +
                      "            <div class=\"row\">\n" +
                      "                <div class=\"col\">\n" +
                      "                    <div class=\"table-responsive\">\n" +
                      "                        <table class=\"table\">\n" +
                      "<p class=\"fs-2\">Game List</p>" +
                      "                            <thead class=\"table-dark\">\n" +
                      "                            <tr>\n" +
                      "                                <th scope=\"col\">게임 신청 팀</th>\n" +
                      "                                <th scope=\"col\">보내는 사람</th>\n" +
                      "                                <th scope=\"col\">게임신청 받은팀</th>\n" +
                      "                                <th scope=\"col\">내용</th>\n" +
                      "                                <th scope=\"col\">보낸 시각</th>\n" +
                      "                                <th scope=\"col\">읽음여부</th>\n" +
                      "                                <th scope=\"col\">수락</th>\n" +
                      "                                <th scope=\"col\">거절</th>\n" +
                      "                                \n" +
                      "                            </tr>\n" +
                      "                            </thead>";
              html +="<tbody id=\"teams\" class=\"table-secondary\">";
              for(var i=0; i<dad.gameJJokji.length;i++){
                html+="<tr>";
                html+="<td>" + dad.sendteamname[i] + "</td>";
                html+="<td>" + dad.sendnick[i] + "</td>";
                html+="<td>" + dad.backteamname[i] + "</td>";
                html+="<td>" + dad.gameJJokji[i].j_cont + "</td>";
                html+="<td>" + dad.gameJJokji[i].j_sendtime + "</td>";
                if(dad.gameJJokji[i].j_check == 'N'){
                  html +="<td>읽지않음</td>";
                }else if(dad.gameJJokji[i].j_check == 'Y'){
                  html +="<td>읽음</td>";
                }
                html +="<td><input type='button'   class=\"btn btn-dark\" value='수락' id='gameaccessbutton' search='" + dad.sendteamname[i] + "'  gcode='"+dad.gameJJokji[i].g_code + "'  code='"+dad.gameJJokji[i].j_code + "' onclick='gamenick(this.getAttribute(\"search\"),this.getAttribute(\"gcode\"),this.getAttribute(\"code\"))'\n" + (dad.gameJJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                html +="<td><input type='button'   class=\"btn btn-dark\" value='거절' id='gamedeniebutton' search='" + dad.sendteamname[i] + "' gcode='"+dad.gameJJokji[i].g_code + "'  code='"+dad.gameJJokji[i].j_code + "' onclick='gameno(this.getAttribute(\"search\"),this.getAttribute(\"gcode\"),this.getAttribute(\"code\"))'\n " + (dad.gameJJokji[i].j_check === 'Y' ? "disabled" : "") + "/></td>";
                html +="</tr>";
              }
              html +="</tbody>\n" +
                      "                        </table>\n" +
                      "                    </div>\n" +
                      "                </div>\n" +
                      "            </div>";

              $("#collapseExample2").html(html);
              $("#staticBackdrop").modal("show");
            }
          })
        }
      })
    })

    function toastclick(){
      $("#staticBackdrop").modal("show");
    }


  </script>



  <!-- Modal -->


</head>


<body>
<div layout:fragment="content">
  <p>Changing contents</p>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
<th:block layout:fragment="script">
</th:block>
</html>